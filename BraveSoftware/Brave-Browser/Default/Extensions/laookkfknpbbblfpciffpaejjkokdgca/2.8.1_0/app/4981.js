(globalThis.webpackChunkmomentum=globalThis.webpackChunkmomentum||[]).push([[4981,8200],{99437:(e,t,o)=>{"use strict";o.d(t,{Z:()=>v});var i=o(20144),n=o(88026),s=o(51726),a=o.n(s),r=o(34952),d=o(7838),l=o(81452);let c={};const u={bind:function(e,t){m.utils.isTouchDevice()&&(e.dataset.justBoundMobileClickHandler=!0,setTimeout((()=>{e.dataset.justBoundMobileClickHandler=!1}),100),e.dataset.mobileClickHandlerId=Math.random().toString(36).substring(7),c[e.dataset.mobileClickHandlerId]=t.value,e.addEventListener("click",t.value))},unbind:function(e){m.utils.isTouchDevice()&&(e.removeEventListener("click",c[e.dataset.mobileClickHandlerId]),delete c[e.dataset.mobileClickHandlerId],delete e.dataset.mobileClickHandlerId,delete e.dataset.justBoundMobileClickHandler)}};var p=o(28692),h=o(64398);i.ZP.use(n.Z,{name:"unreactive"}),i.ZP.use(a()),i.ZP.use(r.InlineSvgPlugin),i.ZP.use(p.og),i.ZP.prototype.$xhr=l.Z,i.ZP.prototype.$e=d.Z,i.ZP.directive("mobile-click",u),new i.ZP({bb:()=>({conditionalFeatures:m.conditionalFeatures,teamInfo:m.models.teamInfo,date:m.models.date,balance:m.models.balanceMode,bookmarksSettings:m.models.bookmarksSettings})}),i.ZP.mixin({unreactive:()=>({$touch:m.utils.isTouchDevice()}),computed:{$mobile:()=>m.reactive.windowDimensions.width<=450,$plus:()=>m.conditionalFeatures.featureEnabled("plus"),$team:()=>m.conditionalFeatures.featureEnabled("team"),$admin:()=>m.models.teamInfo&&m.models.teamInfo.get("team")&&m.models.teamInfo.get("team").userIsAdmin},pinia:h.Z});const v=i.ZP},42223:(e,t,o)=>{"use strict";o.d(t,{Z:()=>i});const i={data:()=>({componentsMounted:{}}),unreactive:()=>({uid:m.utils.shortId()}),beforeCreate(){const e=this.$options.components;Object.keys(e).forEach((t=>{const o=e[t];"function"==typeof o&&(e[t]=function(){this.$set(this.componentsMounted,t,!1);const e=`${t}:${this.uid}:mounted`,i=()=>this.componentsMounted[t]=!0;return this.$e.$once(e,i),o(arguments).then((o=>{const n=o.default;return n&&n.doNotWaitForMount&&(this.$delete(this.componentsMounted,t),this.$e.$off(e,i)),o}))}.bind(this))}))},created(){this.$e.$on("widgets:timeoutExceeded",this.onWidgetTimeout)},mounted(){if(Object.keys(this.componentsMounted).length){const e=this.$watch("componentsMounted",(t=>{Object.values(t).every((e=>e))&&(this.onAllComponentsMounted(),e())}),{deep:!0,immediate:!0})}else this.onAllComponentsMounted()},destroyed(){this.stopListeningToWidgetTimeout()},methods:{stopListeningToWidgetTimeout(){this.$e.$off("widgets:timeoutExceeded",this.onWidgetTimeout)},getContextUid(){return this.$vnode&&this.$vnode.context&&this.$vnode.context.uid||""},onAllComponentsMounted(){this.onAllComponentsMountedOverride?this.onAllComponentsMountedOverride():this.widgetId?m.widgetManager.appReady(this.widgetId):this.emitComponentMounted(),this.stopListeningToWidgetTimeout()},emitComponentMounted(){this.$e.$emit(`${this.$options.name}:${this.getContextUid()}:mounted`)},onWidgetTimeout(){const e=Object.keys(this.componentsMounted).filter((e=>!this.componentsMounted[e]));e.length&&console.warn(`${this.$options.name} is awaiting ${e.join(", ")} to mount.`)}}}},18267:(e,t,o)=>{"use strict";function i({appKey:e,hideEvents:t,closeFunctionName:o,eventTriggerProperty:i}){return{created(){e&&t&&o&&i?(this.$watch(i,(o=>{o&&t.forEach((t=>m.trigger(t,e)))})),t.forEach((e=>{m.on(e,this.onHideEvent)}))):console.warn("Missing hideEventsMixin Arguments: ",e?"":"appKey",t?"":"hideEvents",o?"":"closeFunctionName",i?"":"eventTriggerProperty")},destroyed(){t.forEach((e=>{m.off(e,this.onHideEvent)}))},methods:{onHideEvent(t){t!==e&&this[o]()}}}}o.d(t,{Z:()=>i})},40531:(e,t,o)=>{"use strict";o.d(t,{Fl:()=>s,Jr:()=>d,ax:()=>r});var i=o(99437);const n=new i.Z.observable({}),s=new Proxy(n,{get:(e,t)=>(e.hasOwnProperty(t)||i.Z.set(e,t,m.models.customization.getComputedSetting(t)),e[t]),set:()=>(console.warn('Computed settings cannot be set by reactiveCustomization. Instead set persistent settings with "persistent"'),!1)}),a=new i.Z.observable({}),r=new Proxy(a,{get:(e,t)=>(e.hasOwnProperty(t)||i.Z.set(e,t,m.models.customization.get(t)),e[t]),set:(e,t,o)=>(m.models.customization.save(t,o),i.Z.set(e,t,o),!0)});function d(e={}){Object.entries(e).forEach((([e,t])=>i.Z.set(a,e,t))),m.models.customization.save(e)}m.models.customization.on("change",(e=>{e&&("balanceModeStr"in e.changed&&Object.entries(m.models.customization.attributes).forEach((([e,t])=>i.Z.set(n,e,t))),Object.entries(e.changed).forEach((([e,t])=>{n[e]=m.models.customization.getComputedSetting(e),i.Z.set(a,e,t)})))})),m.on("customization:update",(e=>{e.forEach((e=>{const t=m.models.customization.getComputedSetting(e);i.Z.set(n,e,t),i.Z.set(a,e,t)}))}))},30827:(e,t,o)=>{"use strict";o.d(t,{Z:()=>n});var i=o(99437);const n=m.showAnyway=new(i.Z.extend({name:"ShowAnyway",data:()=>({widgets:[]}),methods:{show(e){this.includes(e)||this.widgets.push(e)},hide(e){const t=this.widgets.indexOf(e);~t&&this.widgets.splice(t,1)},includes(e){return this.widgets.includes(e)}}}))},32540:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>r});var i=o(8081),n=o.n(i),s=o(23645),a=o.n(s)()(n());a.push([e.id,"\n/* stylelint-disable */\n.app-dash.hidden[data-v-9e1c96fe] { opacity: 0;\n}\n",""]);const r=a},54981:(e,t,o)=>{"use strict";o.r(t);var i=o(99437),n=function(){var e=this,t=e._self._c;return t("app-container",{attrs:{"app-name":"notes","visible-setting":"notesVisible",hotkey:"N","data-test":"notes",overlay:e.popupActive},on:{toggle:e.togglePopup}},[t("app-dash",{class:{hidden:e.notesViewStateStore.fullscreen},nativeOn:{click:function(t){return e.togglePopup.apply(null,arguments)}}},[e._v("Notes")]),e._v(" "),t("transition",{attrs:{name:"slide-up-fade"}},[e.popupActive?t("notes-app"):e._e()],1)],1)};n._withStripped=!0;var s=o(10079),a=o(94451),r=o(18267);const d=(0,o(95756).v)("notes",{list:{defaultView:!0,order:1},deleted:{order:2}});var l=o(28692);const c={name:"Notes",components:{AppDash:a.Z,NotesApp:()=>Promise.all([o.e(2433),o.e(2855),o.e(4865),o.e(8030),o.e(1810)]).then(o.bind(o,99587)),AppContainer:s.default},mixins:[(0,r.Z)({appKey:"notes",hideEvents:["globalEvent:toggle:bottom-left","globalEvent:toggle:bottom-right","globalEvent:toggle:top-right"],closeFunctionName:"closePopup",eventTriggerProperty:"popupActive"})],provide(){return{viewStateStore:this.notesViewStateStore}},computed:{...(0,l.Kc)(d),popupActive(){return this.notesViewStateStore.popupActive}},mounted(){m.widgetManager.appReady("notes")},methods:{closePopup(){this.notesViewStateStore.togglePopup(!1)},togglePopup(e){this.notesViewStateStore.togglePopup("boolean"==typeof e?e:void 0)}}};o(81836);const u=(0,o(51900).Z)(c,n,[],!1,null,"9e1c96fe",null).exports,p=document.querySelector(".region.bottom-right"),h=document.createElement("div");p&&p.prepend(h),new i.Z({render:e=>e(u)}).$mount(h)},95756:(e,t,o)=>{"use strict";o.d(t,{v:()=>l});var i=o(28692),n=o(20144),s=o(96046),a=o(63139),r=function(e,t,o,i){return new(o||(o=Promise))((function(n,s){function a(e){try{d(i.next(e))}catch(e){s(e)}}function r(e){try{d(i.throw(e))}catch(e){s(e)}}function d(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,r)}d((i=i.apply(e,t||[])).next())}))};const d=e=>Object.keys(e).find((t=>{var o;return null===(o=e[t])||void 0===o?void 0:o.defaultView})),l=(e,t)=>{const o=(0,i.Q_)(e+"ViewState",{state:()=>{var o;return{activeViewId:null!==(o=d(t))&&void 0!==o?o:"",beforeViewChange:()=>Promise.resolve(!0),confirmationProps:null,fullscreen:!1,popupActive:!1,name:e}},getters:{activeView(e){const o=t[e.activeViewId];if(o)return o;throw new Error("No view found with id: "+e.activeViewId)},focused:()=>a.Z.isOnTop(e)},actions:{focus(){a.Z.add(e)},setActiveView(e){return r(this,void 0,void 0,(function*(){if(yield this.beforeViewChange())if("default"===e){const e=d(t);if(!e)throw new Error("No view found with defaultView: true");this.activeViewId=e}else this.activeViewId=e}))},togglePopup(e){return r(this,void 0,void 0,(function*(){(yield this.beforeViewChange())&&(!e&&this.fullscreen&&(this.fullscreen=!1),yield n.ZP.nextTick(),this.popupActive=null!=e?e:!this.popupActive,this.popupActive||(this.resetBeforeViewChange(),this.confirmationProps=null,yield this.setActiveView("default")))}))},resetBeforeViewChange(){this.beforeViewChange=()=>Promise.resolve(!0)},setConfirmation(e){return r(this,void 0,void 0,(function*(){return new Promise((t=>{this.confirmationProps=e,this.confirmationProps.confirm=()=>t(!0),this.confirmationProps.cancel=()=>t(!1)})).finally((()=>{this.confirmationProps=null}))}))}}}),l=(0,i.Jk)(o());return(0,n.YP)(l.popupActive,(t=>{t?a.Z.add(e):a.Z.remove(e)})),(0,n.YP)(l.confirmationProps,(t=>{(null==t?void 0:t.dashboardOverlay)&&a.Z.add(e,!0),s.Z.dashboardOverlayActive=!!(null==t?void 0:t.dashboardOverlay)})),o}},10079:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>r});var i=function(){var e=this,t=e._self._c;return t("transition",{attrs:{appear:"",name:"fade"}},[e.appVisible?t("div",{staticClass:"app-container",class:[e.appName,{"show-anyway":e.showAnyway}]},[e._t("default"),e._v(" "),t("transition",{attrs:{name:"fade",duration:"150"}},[e.overlay?t("div",{staticClass:"touch-overlay",on:{click:e.toggleApp}}):e._e()])],2):e._e()])};i._withStripped=!0;var n=o(30827),s=o(40531);const a={name:"AppContainer",mixins:[o(42223).Z],props:{appName:{type:String,required:!0},overlay:{type:Boolean,default:!1},visibleSetting:{type:String,default:""},hotkey:{type:String,default:""}},computed:{showAnyway(){return n.Z.includes(this.appName)},appVisible(){return!this.visibleSetting||s.Fl[this.visibleSetting]}},created(){this.hotkey&&m.on("globalEvent:key:"+this.hotkey,this.toggleApp)},destroyed(){this.hotkey&&m.off("globalEvent:key:"+this.hotkey,this.toggleApp)},methods:{toggleApp(e){this.$emit("toggle",e)}}},r=(0,o(51900).Z)(a,i,[],!1,null,null,null).exports},94451:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var i=function(){var e=this,t=e._self._c;return t("div",e._g({class:["app-dash","toggle","add-shadow",{"app-dash-icon":!!e.src}],attrs:{"data-test":"app-dash"}},e.$listeners),[e.src?[t("inline-svg",{attrs:{src:e.src}}),e._v(" "),t("span",{staticClass:"app-dash-icon-label u--mobile-hide"},[e._t("default")],2)]:e._t("default")],2)};i._withStripped=!0;var n=o(34952);const s={name:"AppDash",props:{src:{type:o.n(n)().props.src.type,default:""}}},a=(0,o(51900).Z)(s,i,[],!1,null,null,null).exports},81836:(e,t,o)=>{var i=o(32540);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals),(0,o(45346).Z)("46a140e6",i,!1,{ssrId:!0})}}]);